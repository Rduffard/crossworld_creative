/* ===========================
   SHELL (3 columns)
=========================== */
.login__shell {
  height: calc(100vh - 56px);

  display: grid;
  grid-template-columns: 1fr minmax(380px, 460px) 1fr;
  column-gap: 28px;
  place-items: stretch;

  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 320ms ease,
    transform 320ms ease;
}

/* pre-enter state (one frame) */
.login__page--opening:not(.login__page--shell-active) .login__shell {
  opacity: 0;
  transform: translateY(10px);
}

/* enter / steady */
.login__page--open .login__shell,
.login__page--opening.login__page--shell-active .login__shell {
  opacity: 1;
  transform: translateY(0);
}

/* exit */
.login__page--closing .login__shell {
  opacity: 0;
  transform: translateY(10px);
}

/* ===========================
   PANELS
=========================== */
.login__left,
.login__center,
.login__right {
  min-height: 0;
  display: grid;
  place-items: center;
}

/* ===========================
   CENTER / RIGHT PANELS
=========================== */
.login__center,
.login__right {
  opacity: 1;
  transform: translateY(0);
  transition:
    opacity 320ms ease,
    transform 320ms ease;
}

/* pre-enter */
.login__page--opening:not(.login__page--shell-active) .login__center,
.login__page--opening:not(.login__page--shell-active) .login__right {
  opacity: 0;
  transform: translateY(10px);
}

/* open/enter */
.login__page--shell-active .login__center {
  transition-delay: 60ms;
}

.login__page--shell-active .login__right {
  transition-delay: 120ms;
}

/* exit */
.login__page--closing .login__center,
.login__page--closing .login__right {
  opacity: 0;
  transform: translateY(8px);
  transition-delay: 0ms;
}

/* ===========================
   RESPONSIVE
=========================== */
@media (max-width: 980px) {
  .login__shell {
    grid-template-columns: 1fr;
    row-gap: 18px;
  }
}

/* ===========================
   CENTER CONTENT SWAP ANIMATION
   (Login <-> Signup)
=========================== */

.login__center-content {
  width: 100%;
  display: grid;
  place-items: center;
  will-change: opacity, transform, filter;
}

/* forward feels like you're progressing to signup */
.login__center-content--forward {
  animation: centerSwapForward 260ms cubic-bezier(0.2, 0.9, 0.2, 1);
}

/* back feels like returning to login */
.login__center-content--back {
  animation: centerSwapBack 260ms cubic-bezier(0.2, 0.9, 0.2, 1);
}

@keyframes centerSwapForward {
  from {
    opacity: 0;
    transform: translateY(10px) translateX(8px) scale(0.99);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateX(0) scale(1);
    filter: blur(0);
  }
}

@keyframes centerSwapBack {
  from {
    opacity: 0;
    transform: translateY(10px) translateX(-8px) scale(0.99);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateX(0) scale(1);
    filter: blur(0);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .login__center-content--forward,
  .login__center-content--back {
    animation: none;
  }

  .login__center-content {
    filter: none;
    transform: none;
  }
}
